<div class="container d-flex justify-content-center mt-5">
    <div class="card shadow-lg p-4 bg-white rounded" style="max-width: 1000px; width: 120%;">

        <!-- Card Header -->
        <!-- Optional card header here if needed -->

        <!-- Card Body -->
        <div class="card-body">
            <form [formGroup]="form">
                <div class="row g-3" style="margin-top: 2%;" formGroupName="travelDetails">
                    <div class="section-header">
                        <h4 class="fw-bold">Astronaut Information</h4>
                    </div>
                    <hr>
                    <!-- Astronaut Experience -->
                    <div class="col-md-6">
                        <div class="">
                            <label class="form-label fw-bold"><i class="bi bi-rocket"></i> Astronaut Experience*</label>
                            <select class="form-select" formControlName="astronautExperience">
                                <option value="" disabled selected>Select Experience Level</option>
                                <option value="None">None</option>
                                <option value="Beginner">Beginner</option>
                                <option value="Intermediate">Intermediate</option>
                                <option value="Expert">Expert</option>
                            </select>
                        </div>
                        <!-- Error message for the expeirence field -->
                        <app-error-message
                            [control]="form.get('travelDetails.astronautExperience')"></app-error-message>
                    </div>

                    <!-- Preferred role-->
                    <div class="col-md-6">
                        <div>
                            <label class="form-label fw-bold"><i class="bi bi-person"></i> Preferred Role*</label>
                            <select class="form-select" formControlName="rolePreference" (change)="onRoleChange($event)">
                                <option value="" disabled selected>Select Role</option>
                                <option value="Commander">Commander</option>
                                <option value="Biologist">Biologist</option>
                                <option value="Computer Scientist">Computer Scientist</option>
                                <option value="Researcher">Researcher</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    
                        <!-- Conditional Text Input for 'Other' -->
                        <div *ngIf="showOtherRoleInput">
                            <br/>
                            <label class="form-label fw-bold">Specify Role</label>
                            <input type="text" class="form-control" formControlName="otherRole" [(ngModel)]="customRole" (input)="updateRolePreference()">
                        </div>
                    
                        <!-- Error message for the role field -->
                        <app-error-message [control]="form.get('travelDetails.rolePreference')"></app-error-message>
                    </div>
                    

                    <!-- travel companions -->
                    <div class="col-md-6">
                        <div class="">
                        <label class="form-label fw-bold"><i class="bi bi-person-fill"></i> Travel Companion
                            Information*</label>
                        <select class="form-select" formControlName="travelCompanions">
                            <option value="" disabled selected>Select Travel Companions</option>
                            <option value="Alone">Alone</option>
                            <option value="With Family">With Family</option>
                            <option value="With Team Crew">With Team Crew</option>
                        </select>
                        </div>
                        <!-- Error message for the companions field -->
                        <app-error-message [control]="form.get('travelDetails.travelCompanions')"></app-error-message>
                    </div>

                    <div class="section-header" style="margin-top: 5%;">
                        <h4 class="fw-bold">Spacecraft Preference</h4>
                    </div>
                    <hr>
                    <!-- Preferred Spacecraft -->
                    <div class="col-md-6">
                        <div class="">
                        <label class="form-label fw-bold"><i class="bi bi-rocket"></i> Preferred Spacecraft*</label>
                        <select class="form-select" formControlName="preferredSpacecraft">
                            <option value="" disabled selected>Select Spacecraft</option>
                            <option value="Apollo">Apollo</option>
                            <option value="Dragon">Dragon</option>
                            <option value="Starship">Starship</option>
                        </select>
                        </div>
                        <!-- Error message for the spacecraft field -->
                        <app-error-message [control]="form.get('travelDetails.preferredSpacecraft')"></app-error-message>
                    </div>

                    <!-- Class Preference -->
                    <div class="col-md-6">
                        <div class="">
                        <label class="form-label fw-bold"><i class="bi bi-ticket"></i> Class Preference*</label>
                        <select class="form-select" formControlName="classPreference">
                            <option value="" disabled selected>Select Class</option>
                            <option value="Economy">Economy</option>
                            <option value="Business">Business</option>
                            <option value="First Class">First Class</option>
                        </select>
                        </div>
                         <!-- Error message for the class field -->
                         <app-error-message [control]="form.get('travelDetails.classPreference')"></app-error-message>
                    </div>

                    <!-- Preferred seat  -->
                    <div class="col-md-6">
                        <div class="">
                        <label class="form-label fw-bold"><i class="bi bi-arrow-down"></i> Spacecraft Seat
                            Preference*</label>
                        <select class="form-select" formControlName="seatPreference">
                            <option value="" disabled selected>Select Seat Preference</option>
                            <option value="Window">Window</option>
                            <option value="Aisle">Aisle</option>
                            <option value="Command Center">Command Center</option>
                            <option value="No Preference">No Preference</option>
                        </select>
                        </div>
                        <!-- Error message for the seat field -->
                        <app-error-message [control]="form.get('travelDetails.seatPreference')"></app-error-message>
                    </div>

                    <div class="section-header" style="margin-top: 5%;">
                        <h4 class="fw-bold">Journey Preference</h4>
                    </div>
                    <hr>

                    <!-- Preferred Flight Duration -->
                    <div class="col-md-6">
                        <div class="">
                        <label class="form-label fw-bold"><i class="bi bi-clock"></i> Preferred Flight Duration*</label>
                        <select class="form-select" formControlName="preferredFlightDuration">
                            <option value="" disabled selected>Select Duration</option>
                            <option value="Short (1-3 days)">Short (1-3 days)</option>
                            <option value="Medium (1-2 weeks)">Medium (1-2 weeks)</option>
                            <option value="Long (1+ months)">Long (1+ months)</option>
                        </select>
                        </div>
                        <!-- Error message for the flight duration field -->
                        <app-error-message [control]="form.get('travelDetails.preferredFlightDuration')"></app-error-message>
                    </div>



                    <!-- Preferred mission Duration -->
                    <div class="col-md-6">
                        <div class="">
                        <label class="form-label fw-bold"><i class="bi bi-clock"></i> Preferred Mission
                            Duration*</label>
                        <select class="form-select" formControlName="missionDuration">
                            <option value="" disabled selected>Select Duration</option>
                            <option value="1 year">1 year</option>
                            <option value="2 years">2 years</option>
                            <option value="Lifetime stay">Lifetime stay</option>
                        </select>
                        </div>
                        <!-- Error message for the mission duration field -->
                        <app-error-message [control]="form.get('travelDetails.missionDuration')"></app-error-message>
                    </div>

                    <!-- Preferred launch time -->
                    <div class="col-md-6">
                        <div class="">
                        <label class="form-label fw-bold"><i class="bi bi-clock"></i> Preferred Launch Time*</label>
                        <select class="form-select" formControlName="preferredLaunchTime">
                            <option value="" disabled selected>Select Launch Time</option>
                            <option value="Morning">Morning</option>
                            <option value="Night">Night</option>
                            <option value="Afternoon">Afternoon</option>
                        </select>
                        </div>
                        <!-- Error message for the launch duration field -->
                        <app-error-message [control]="form.get('travelDetails.preferredLaunchTime')"></app-error-message>
                    </div>

                    <div class="section-header" style="margin-top: 5%;">
                        <h4 class="fw-bold">Other</h4>
                    </div>
                    <hr>

                    <div class="col-md-6">
                        <label for="otherAccommodation" class="form-label fw-bold">Other Accommodation Requests</label>
                        <textarea id="otherAccommodation" 
                        class="form-control" 
                        formControlName="otherAccommodation" 
                        rows="4" 
                        placeholder="Enter your accommodation request" 
                        title="Please mention anything other than what has already been covered in the form"></textarea>
                        <!-- Disclaimer message -->
                        <small class="form-text text-muted">
                          This request is subject to availability and will be provided only if possible.
                        </small>
                      </div>
                      
                      <!-- Error message for the other accommodation field -->
                      <app-error-message [control]="form.get('healthDetails.otherAccommodation')"></app-error-message>
                      


                </div>



                <div class="" style="margin-top: 5%;">
                    <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">

                        <!-- Back Button -->
                        <button type="button" 
                                class="btn btn-lg shadow-sm mb-0" 
                                style="background-color: #C14D3C; color: white; border: none; border-radius: 5px; padding: 10px 20px; display: flex; align-items: center;" 
                                matStepperPrevious>
                            <i class="bi bi-arrow-left" style="margin-right: 10px;"></i> Back
                        </button>
                      
                        <!-- Next Button -->
                        <button type="button" 
                                class="btn btn-lg shadow-sm mb-0" 
                                style="background-color: #D84B16; color: white; border: none; border-radius: 5px; padding: 10px 20px; display: flex; align-items: center;" 
                                matStepperNext
                                (click)="step2Submitted()">
                            Next <i class="bi bi-arrow-right" style="margin-left: 10px;"></i>
                        </button>
                      
                      </div>
                </div>
            </form>
        </div>
    </div>
</div>